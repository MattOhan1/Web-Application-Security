<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Web Security Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h2 { color: #333; }
    .question { margin-bottom: 20px; }
    .result { font-weight: bold; margin-top: 20px; }
    .correct-answer { color: green; }
    .wrong-answer { color: red; }
    button { padding: 10px 20px; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>Web Application Security: Self-Assessment Quiz</h2>

  <form id="quizForm">
    <!-- Q1 -->
    <div class="question">
      <p>1. What is the main purpose of HTTPS?</p>
      <label><input type="radio" name="q1" value="a"> To increase loading speed</label><br>
      <label><input type="radio" name="q1" value="b"> To encrypt data between the user and server</label><br>
      <label><input type="radio" name="q1" value="c"> To host multiple websites</label>
    </div>

    <!-- Q2 -->
    <div class="question">
      <p>2. What kind of attack tries to inject malicious code into a website?</p>
      <label><input type="radio" name="q2" value="a"> SQL Injection</label><br>
      <label><input type="radio" name="q2" value="b"> Denial of Service</label><br>
      <label><input type="radio" name="q2" value="c"> Brute Force</label>
    </div>

    <!-- Q3 -->
    <div class="question">
      <p>3. Which of the following is a way to secure a login form?</p>
      <label><input type="radio" name="q3" value="a"> Displaying passwords</label><br>
      <label><input type="radio" name="q3" value="b"> Validating inputs on the client only</label><br>
      <label><input type="radio" name="q3" value="c"> Using multi-factor authentication (MFA)</label>
    </div>

    <!-- Q4 -->
    <div class="question">
      <p>4. Fill in the blank: One common way to prevent cross-site scripting (XSS) is to ________ user input.</p>
      <input type="text" name="q4" />
    </div>

    <!-- Q5 -->
    <div class="question">
      <p>5. Which of the following are best practices for securing a web application? (Select all that apply)</p>
      <label><input type="checkbox" name="q5" value="a"> Use prepared statements for database queries</label><br>
      <label><input type="checkbox" name="q5" value="b"> Disable HTTPS to improve performance</label><br>
      <label><input type="checkbox" name="q5" value="c"> Sanitize user inputs</label><br>
      <label><input type="checkbox" name="q5" value="d"> Use strong passwords and MFA</label>
    </div>

    <button type="button" onclick="gradeQuiz()">Submit</button>
    <button type="reset">Restart Quiz</button>
  </form>

  <div id="result" class="result"></div>

  <script>
    function gradeQuiz() {
      const form = document.getElementById("quizForm");
      const result = document.getElementById("result");
      let score = 0;
      let total = 5;

      // Question 1
      if (form.q1.value === "b") score++;

      // Question 2
      if (form.q2.value === "a") score++;

      // Question 3
      if (form.q3.value === "c") score++;

      // Question 4
      const q4 = form.q4.value.trim().toLowerCase();
      if (q4 === "sanitize" || q4 === "escape") score++;

      // Question 5
      const q5 = form.querySelectorAll('input[name="q5"]:checked');
      const values = Array.from(q5).map(cb => cb.value);
      const correctAnswers = ["a", "c", "d"];
      if (values.length === 3 && values.every(val => correctAnswers.includes(val))) {
        score++;
      }

      const pass = score >= 3 ? "Pass" : "Fail";
      result.innerHTML = `
        <p>Your Score: ${score} / ${total}</p>
        <p>Result: <span class="${pass === 'Pass' ? 'correct-answer' : 'wrong-answer'}">${pass}</span></p>
        <p>Correct Answers:</p>
        <ul>
          <li>1. b</li>
          <li>2. a</li>
          <li>3. c</li>
          <li>4. Sanitize (or Escape)</li>
          <li>5. a, c, d</li>
        </ul>
      `;
    }
  </script>
</body>
</html>
